<div class="header">
  <div class="toggle-sidebar" (click)="toggleSidebar()">
    <img src="/assets/icons/menu-icon.svg" alt="toggle sidebar" />
  </div>

  <!-- Header Text -->
  <div class="header-text">
    <img
      *ngIf="
        isPropertyDetailsPage ||
        isRentalApplicationDetailsPage ||
        isCreatePropertyPage
      "
      src="/assets/icons/back.svg"
      alt="back"
      class="back-button"
      (click)="goBack()"
    />
    {{ headerText | translate }}
  </div>
  <!-- Header actions -->
  <div class="header-actions">
    <button (click)="toggleLanguage()" class="header-lang-btn">
      {{ "lang" | translate }}
    </button>
    <div class="header-notifications-icon" (click)="toggleNotifications()">
      <img src="/assets/icons/notifications-icon.svg" alt="notification icon" />
      <span class="notification-count" *ngIf="unreadCount > 0">{{
        unreadCount
      }}</span>
    </div>
  </div>

  <!-- Header notifications -->
  <div class="header-notifications" *ngIf="showNotifications">
    <div class="top">
      <h2>{{ "Notifications" | translate }}</h2>
      <div (click)="markAllAsRead()">{{ "Mark all as read" | translate }}</div>
    </div>

    <div class="notification-content">
      <div
        class="notification"
        *ngFor="let notif of notifications"
        [class.unread]="!notif.read_at"
        (click)="handleNotificationClick(notif)"
      >
        <h3 [class.unread-title]="!notif.read_at">
          {{ notif.data.title | translate }}
        </h3>
        <div>
          <p>{{ notif.data.message }}</p>
        </div>
        <div class="time">
          <img src="/assets/icons/time-icon.svg" alt="" />
          {{ notif.created_at | relativeTime }}
        </div>
      </div>
    </div>

    <div class="read-more-section" *ngIf="hasMoreNotifications">
      <button
        class="read-more-btn"
        (click)="loadMoreNotifications()"
        [disabled]="isLoading"
      >
        <span *ngIf="!isLoading">{{ "Read More" | translate }}</span>
        <span *ngIf="isLoading">{{ "Loading..." | translate }}</span>
      </button>
    </div>
  </div>
</div>
